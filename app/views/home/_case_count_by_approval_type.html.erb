<% if @can_approval_bia %>
  <%= display_stat_detailed({
    name: :approval_status_bia,
    stat: nil,
    filters: [],
    additional_details: [
      {
        stat: :pending,
        filters: [
          "child_status=#{Record::STATUS_OPEN}",
          "approval_status_bia=#{Child::APPROVAL_STATUS_PENDING}",
          'record_state=true'
        ],
        text: t('dashboard.pending')
      },
      {
        stat: :rejected,
        filters: [
          "child_status=#{Record::STATUS_OPEN}",
          "approval_status_bia=#{Child::APPROVAL_STATUS_REJECTED}",
          'record_state=true'
        ],
        text: t('dashboard.rejected')
      },
      {
        stat: :new,
        filters: [
          "child_status=#{Record::STATUS_OPEN}",
          "approval_status_bia=#{Child::APPROVAL_STATUS_APPROVED}",
          "bia_approved_date=#{last_ten_days}",
          'record_state=true'
        ],
        text: t('dashboard.approved')
      }
    ],
    stats: stats,
    model: model,
    text: t('approvals.bia'),
  }) %>
<% end %>

<% if @can_approval_case_plan %>
  <%= display_stat_detailed({
    name: :approval_status_case_plan,
    stat: nil,
    filters: [],
    additional_details: [
      {
        stat: :pending,
        filters: [
          "child_status=#{Record::STATUS_OPEN}",
          "approval_status_bia=#{Child::APPROVAL_STATUS_PENDING}",
          'record_state=true'
        ],
        text: t('dashboard.pending')
      },
      {
        stat: :rejected,
        filters: [
          "child_status=#{Record::STATUS_OPEN}",
          "approval_status_bia=#{Child::APPROVAL_STATUS_REJECTED}",
          'record_state=true'
        ],
        text: t('dashboard.rejected')
      },
      {
        stat: :new,
        filters: [
          "child_status=#{Record::STATUS_OPEN}",
          "approval_status_case_plan=#{Child::APPROVAL_STATUS_APPROVED}",
          "case_plan_approved_date=#{last_ten_days}",
          'record_state=true'
        ],
        text: t('dashboard.approved')
      }
    ],
    stats: stats,
    model: model,
    text: t('approvals.case_plan'),
  }) %>
<% end %>

<% if @can_approval_closure %>
  <%= display_stat_detailed({
    name: :approval_status_closure,
    stat: nil,
    filters: [],
    additional_details: [
      {
        stat: :pending,
        filters: [
          "child_status=#{Record::STATUS_OPEN}",
          "approval_status_bia=#{Child::APPROVAL_STATUS_PENDING}",
          'record_state=true'
        ],
        text: t('dashboard.pending')
      },
      {
        stat: :rejected,
        filters: [
          "child_status=#{Record::STATUS_OPEN}",
          "approval_status_bia=#{Child::APPROVAL_STATUS_REJECTED}",
          'record_state=true'
        ],
        text: t('dashboard.rejected')
      },
      {
        stat: :new,
        filters: [
          "child_status=#{Record::STATUS_OPEN}",
          "approval_status_closure=#{Child::APPROVAL_STATUS_APPROVED}",
          "closure_approved_date=#{last_ten_days}",
          'record_state=true'
        ],
        text: t('dashboard.approved')
      }
    ],
    stats: stats,
    model: model,
    text: t('approvals.closure'),
  }) %>
<% end %>

