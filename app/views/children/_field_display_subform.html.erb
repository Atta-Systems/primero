<div class="row">
  <%
     #TODO: This will break for nested nested subforms if we decide to have those.
     subform_section = field.subform_section
     number_of_subforms = subforms_count @child, field
  %>
  <h5 class="tool-tip-label">
    <span><%= label_tag field.name, t(field.name, :default => field.display_name), :class=>'key' %></span>
  </h5>
  <div class="subforms">
    <fieldset class="subform no-border">
    <% (number_of_subforms).times do |i| %>
      <h5 class="tool-tip-label">
        <span><%= label_tag field.name, t(field.name, :default => field.display_name.singularize), :class=>'key' %></span>
      </h5>
      <% (subform_section.fields.select {|field| field.visible? }).each do |field| %>
        <%= render :partial => "field_display_#{field.display_type}",  :locals=>{:field => field, :child=>@child[:"#{subform_section.unique_id}"]["#{i}"]} %>
      <% end %>
    <% end %>
    </fieldset>
  </div>
</div>
