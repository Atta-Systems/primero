<% content_for :javascript do %>
    <script type="text/javascript" language="javascript">
      $(document).ready(function () {
        $("[id^='myTable_']").tablesorter({
          sortList: [[col, 1]]
        });
      });
    </script>
<% end %>
<% content_for :javascript do %>
    <script type="text/javascript" language="javascript">
      $(document).on('click', "[id^='show_more_']", function (event) {
        var target = $(event.target);
        var tr_id = target.attr('id').split("_")[2];
        $(this).text('show less');
        $(this).attr("id", "show_less_" + tr_id);
        $("#myTable_" + tr_id + " tr").css({'display': 'table-row'});
      });

      $(document).on('click', "[id^='show_less_']", function (event) {
        var target = $(event.target);
        var tr_id = target.attr('id').split("_")[2];
        $(this).text('show more');
        $(this).attr("id", "show_more_" + tr_id);
        $("#myTable_" + tr_id + " tr:not(:first-child)").css({'display': 'none'});
      });
    </script>
<% end %>
<%= javascript_tag do %>
    var col = '<%= (@type == "tracing_request") ? 5: 4%>';
<% end %>
<%= render 'record_shared/list_view_div', model: PotentialMatch, record: 'potential_match', collection: @match_results %>
