<%
  lookups ||= []
  is_translation ||= false
%>
<fieldset>
  <% fields.each do |field_hash| %>
    <%
      field_name = field_hash.keys.first
      field_type = field_hash.values.first
    %>
    <% if field_type == :select_box %>
      <%= render "form_section/add_select_box", lookups: lookups, fld: fld unless is_translation %>
    <% elsif field_type == :tally_field %>
      <%= render "form_section/add_tally_field" unless is_translation %>
    <% else %>
      <div class="row">
        <div class="large-3 medium-3 columns">
          <label class="key"><%= t(field_name.to_sym, :locale => given_locale.to_sym) %></label>
        </div>
        <div class="large-9 medium-9 columns">
          <% if field_name == :name %>
            <%= fld.send "#{field_type}", "#{field_name}".to_sym %>
          <% else %>
            <%= fld.send "#{field_type}", "#{field_name}_#{given_locale}".to_sym %>
          <% end %>
        </div>
      </div>
    <% end %>
  <% end %>
</fieldset>
